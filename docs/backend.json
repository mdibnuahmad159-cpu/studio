
{
  "entities": {
    "Guru": {
      "title": "Guru",
      "type": "object",
      "description": "Represents a teacher in the school.",
      "properties": {
        "name": {
          "type": "string",
          "description": "The teacher's full name."
        },
        "position": {
          "type": "string",
          "description": "The teacher's position or subjects taught."
        },
        "whatsapp": {
          "type": "string",
          "description": "The teacher's WhatsApp number."
        },
        "imageId": {
          "type": ["string", "null"],
          "description": "URL of the teacher's profile picture."
        }
      },
      "required": ["name", "position", "whatsapp"]
    },
    "Siswa": {
      "title": "Siswa",
      "type": "object",
      "description": "Represents a student in the school.",
      "properties": {
        "nis": {
          "type": "string",
          "description": "The student's unique registration number. Used as document ID."
        },
        "nama": {
          "type": "string",
          "description": "The student's full name."
        },
        "jenisKelamin": {
          "type": "string",
          "enum": ["Laki-laki", "Perempuan"]
        },
        "tempatLahir": {
          "type": "string"
        },
        "tanggalLahir": {
          "type": "string"
        },
        "namaAyah": {
          "type": "string"
        },
        "namaIbu": {
          "type": "string"
        },
        "alamat": {
          "type": "string"
        },
        "fileDokumen": {
          "type": "string",
          "format": "uri"
        },
        "status": {
          "type": "string",
          "enum": ["Aktif", "Lulus", "Pindah"]
        },
        "kelas": {
          "type": "number"
        },
        "tahunLulus": {
          "type": "number"
        }
      },
      "required": [
        "nis",
        "nama",
        "jenisKelamin",
        "tempatLahir",
        "tanggalLahir",
        "namaAyah",
        "namaIbu",
        "alamat",
        "status",
        "kelas"
      ]
    },
    "Kurikulum": {
      "title": "Kurikulum",
      "type": "object",
      "description": "Represents a curriculum or subject taught.",
      "properties": {
        "kelas": {
          "type": "string"
        },
        "mataPelajaran": {
          "type": "string"
        },
        "kitab": {
          "type": "string"
        }
      },
      "required": ["kelas", "mataPelajaran", "kitab"]
    },
    "Jadwal": {
      "title": "Jadwal",
      "type": "object",
      "description": "Represents a class schedule entry.",
      "properties": {
        "hari": {
          "type": "string"
        },
        "kelas": {
          "type": "string"
        },
        "mataPelajaran": {
          "type": "string"
        },
        "guruId": {
          "type": "string",
          "description": "Reference to the Guru document ID."
        },
        "jam": {
          "type": "string"
        }
      },
      "required": ["hari", "kelas", "mataPelajaran", "guruId", "jam"]
    },
    "Raport": {
      "title": "Raport",
      "type": "object",
      "description": "Stores references to student report card files.",
      "properties": {
        "nis": {
          "type": "string",
          "description": "The student's unique registration number. Used as document ID."
        },
        "raports": {
          "type": "object",
          "description": "An object containing URLs to report files, keyed by term (e.g., kelas_1_ganjil)."
        }
      },
      "required": ["nis", "raports"]
    },
    "Nilai": {
      "title": "Nilai",
      "type": "object",
      "description": "Represents a student's grade for a specific subject in a term.",
      "properties": {
        "siswaId": {
          "type": "string",
          "description": "Reference to the Siswa document ID (using the auto-generated ID, not NIS)."
        },
        "kurikulumId": {
          "type": "string",
          "description": "Reference to the Kurikulum document ID."
        },
        "kelas": {
          "type": "number",
          "description": "The class level when the grade was given."
        },
        "semester": {
          "type": "string",
          "enum": ["ganjil", "genap"],
          "description": "The semester for the grade."
        },
        "nilai": {
          "type": "number",
          "description": "The numerical score."
        }
      },
      "required": ["siswaId", "kurikulumId", "kelas", "semester", "nilai"]
    }
  },
  "auth": {
    "providers": ["password", "anonymous"]
  },
  "firestore": {
    "/gurus/{guruId}": {
      "schema": { "$ref": "#/entities/Guru" },
      "description": "Stores teacher profiles."
    },
    "/siswa/{siswaId}": {
      "schema": { "$ref": "#/entities/Siswa" },
      "description": "Stores student profiles. The document ID should be the student's NIS."
    },
    "/kurikulum/{kurikulumId}": {
      "schema": { "$ref": "#/entities/Kurikulum" },
      "description": "Stores curriculum/subject data."
    },
    "/jadwal/{jadwalId}": {
      "schema": { "$ref": "#/entities/Jadwal" },
      "description": "Stores class schedule entries."
    },
    "/raports/{raportId}": {
      "schema": { "$ref": "#/entities/Raport" },
      "description": "Stores student report card data. The document ID should be the student's NIS."
    },
    "/nilai/{nilaiId}": {
      "schema": { "$ref": "#/entities/Nilai" },
      "description": "Stores individual student grades for subjects."
    }
  }
}
